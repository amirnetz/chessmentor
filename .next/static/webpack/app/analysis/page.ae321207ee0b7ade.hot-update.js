"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/analysis/page",{

/***/ "(app-pages-browser)/./src/app/analysis/page.tsx":
/*!***********************************!*\
  !*** ./src/app/analysis/page.tsx ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AnalysisPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chess.js */ \"(app-pages-browser)/./node_modules/chess.js/dist/esm/chess.js\");\n/* harmony import */ var react_chessboard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chessboard */ \"(app-pages-browser)/./node_modules/react-chessboard/dist/index.esm.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction AnalysisPage() {\n    _s();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useSearchParams)();\n    const pgn = searchParams.get(\"pgn\") || \"\";\n    const white = searchParams.get(\"white\") || \"\";\n    const black = searchParams.get(\"black\") || \"\";\n    const [game, setGame] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess());\n    const gameRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess());\n    const [currentMove, setCurrentMove] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [moves, setMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [formattedMoves, setFormattedMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [evaluation, setEvaluation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [topMoves, setTopMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [positionTopMoves, setPositionTopMoves] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [isAnalyzing, setIsAnalyzing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [engineDepth, setEngineDepth] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(15);\n    const [engineLines, setEngineLines] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bestMove, setBestMove] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isFlipped, setIsFlipped] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [whiteName, setWhiteName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [blackName, setBlackName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [orientation, setOrientation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"white\");\n    const [stockfishEval, setStockfishEval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isEvaluating, setIsEvaluating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [engine, setEngine] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isEngineReady, setIsEngineReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!game) return;\n        const currentFen = game.fen();\n        setMoves(game.history());\n        setCurrentMove(game.history().length - 1);\n        // Start analysis if enabled\n        if (isAnalyzing) {\n            analyzePosition(currentFen);\n        }\n    }, [\n        game\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n        try {\n            console.log(\"Initializing Stockfish...\");\n            const stockfish = new Worker(\"/stockfish.js\");\n            if (!stockfish) {\n                console.error(\"Stockfish failed to initialize\");\n                setError(\"Stockfish failed to initialize.\");\n                return;\n            }\n            console.log(\"Stockfish initialized\");\n            stockfish.onmessage = (event)=>{\n                const output = event.data;\n                console.log(\"Stockfish output:\", output);\n                if (output.includes(\"uciok\")) {\n                    console.log(\"Received uciok, setting options...\");\n                    stockfish.postMessage(\"setoption name MultiPV value 3\");\n                    stockfish.postMessage(\"setoption name Threads value 4\");\n                    stockfish.postMessage(\"setoption name Hash value 16\");\n                    stockfish.postMessage(\"setoption name Minimum Thinking Time value 20\");\n                    stockfish.postMessage(\"setoption name Slow Mover value 100\");\n                    stockfish.postMessage(\"setoption name UCI_LimitStrength value false\");\n                    stockfish.postMessage(\"setoption name UCI_Elo value 1500\");\n                    stockfish.postMessage(\"isready\");\n                } else if (output.includes(\"readyok\")) {\n                    console.log(\"Engine is ready\");\n                    setIsEngineReady(true);\n                } else if (output.includes(\"bestmove\")) {\n                    console.log(\"Received bestmove\");\n                    setIsEvaluating(false);\n                } else if (output.includes(\"info depth\")) {\n                    const match = output.match(/info depth \\d+ .*?multipv (\\d+) .*?score (cp|mate) (-?\\d+).*? pv (\\S+)/);\n                    if (match) {\n                        const [, rank, type, value, uciMove] = match;\n                        // Keep evaluation from White's perspective\n                        const evalValue = type === \"cp\" ? parseInt(value) / 100 : parseInt(value);\n                        // Extract UCI move details\n                        const from = uciMove.slice(0, 2);\n                        const to = uciMove.slice(2, 4);\n                        const promotion = uciMove.length > 4 ? uciMove[4] : undefined;\n                        // Clone the current game state using the ref\n                        const tempGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n                        tempGame.load(game.fen());\n                        // Extract the full PV line - get only the moves after \"pv\"\n                        const pvMatch = output.match(/\\bpv\\b(.*?)(?=\\s+\\b(?:multipv|depth|seldepth|score|nodes|nps|tbhits|time|$)|\\s*$)/);\n                        const pvMoves = pvMatch ? pvMatch[1].trim().split(\" \") : [];\n                        // Get the current position's turn\n                        const currentTurn = tempGame.turn();\n                        // Log the current state\n                        console.log(\"Current state:\", {\n                            gameFen: game.fen(),\n                            tempGameFen: tempGame.fen(),\n                            turn: currentTurn,\n                            moveHistory: game.history({\n                                verbose: true\n                            }).map((m)=>m.san),\n                            lastMove: game.history({\n                                verbose: true\n                            }).length > 0 ? game.history({\n                                verbose: true\n                            })[game.history({\n                                verbose: true\n                            }).length - 1] : null\n                        });\n                        // If we're analyzing a move that doesn't match the current turn,\n                        // we need to find and apply the appropriate preceding moves\n                        if (pvMoves.length > 0) {\n                            // If it's white's turn and we're looking at a black move (from rank 7),\n                            // we need to find a white move to apply first\n                            if (currentTurn === \"w\" && from[1] === \"7\") {\n                                // Look for a white move in the PV line that comes before our target move\n                                for(let i = 0; i < pvMoves.length; i++){\n                                    const moveToTry = pvMoves[i];\n                                    // Skip if this is our target move\n                                    if (moveToTry === uciMove) continue;\n                                    // Try to find a valid white move\n                                    const tryFrom = moveToTry.slice(0, 2);\n                                    // Check if this is a white move (from rank 2)\n                                    if (tryFrom[1] === \"2\") {\n                                        try {\n                                            const tryTo = moveToTry.slice(2, 4);\n                                            const tryPromotion = moveToTry.length > 4 ? moveToTry[4] : undefined;\n                                            console.log(\"Trying white move:\", {\n                                                move: moveToTry,\n                                                from: tryFrom,\n                                                to: tryTo,\n                                                promotion: tryPromotion,\n                                                currentTurn: tempGame.turn()\n                                            });\n                                            const result = tempGame.move({\n                                                from: tryFrom,\n                                                to: tryTo,\n                                                promotion: tryPromotion\n                                            });\n                                            if (result) {\n                                                console.log(\"Successfully applied white move:\", result);\n                                                break;\n                                            }\n                                        } catch (error) {\n                                            console.error(\"Error trying white move:\", error);\n                                        }\n                                    }\n                                }\n                            }\n                            // Now we should be at the right position to make our move\n                            console.log(\"Ready to apply target move:\", {\n                                uciMove,\n                                currentFen: tempGame.fen(),\n                                currentTurn: tempGame.turn()\n                            });\n                        }\n                        // Store debug info for display\n                        setDebugInfo({\n                            from,\n                            to,\n                            fen: game.fen(),\n                            moveObject: null,\n                            uciMove,\n                            currentTurn: tempGame.turn(),\n                            moveIndex: pvMoves.indexOf(uciMove)\n                        });\n                        // Add debug logging\n                        console.log(\"Before move:\", {\n                            fen: tempGame.fen(),\n                            turn: tempGame.turn(),\n                            from,\n                            to,\n                            promotion,\n                            isCheck: tempGame.isCheck(),\n                            moves: tempGame.moves({\n                                verbose: true\n                            }),\n                            pvMoves\n                        });\n                        try {\n                            // Apply the move to the temporary game instance\n                            const moveObject = tempGame.move({\n                                from,\n                                to,\n                                promotion\n                            });\n                            // Add debug logging for successful move\n                            console.log(\"After move:\", {\n                                success: !!moveObject,\n                                moveObject,\n                                newFen: tempGame.fen(),\n                                newTurn: tempGame.turn()\n                            });\n                            // Get correct standard algebraic notation\n                            const notation = moveObject ? moveObject.san : uciMove;\n                            // Get the PV line (principal variation)\n                            const pvMatch = output.match(/pv (.+)/);\n                            const pv = pvMatch ? pvMatch[1].split(\" \").slice(0, 3) : [];\n                            setTopMoves((prev)=>{\n                                const newMoves = [\n                                    ...prev\n                                ];\n                                const index = parseInt(rank) - 1;\n                                newMoves[index] = {\n                                    move: notation,\n                                    evaluation: evalValue,\n                                    pv\n                                };\n                                return newMoves;\n                            });\n                            // Store top moves for the current position\n                            setPositionTopMoves((prev)=>({\n                                    ...prev,\n                                    [game.fen()]: [\n                                        ...prev[game.fen()] || [],\n                                        {\n                                            move: notation,\n                                            evaluation: evalValue,\n                                            pv\n                                        }\n                                    ]\n                                }));\n                            // Update main evaluation from the best move\n                            if (parseInt(rank) === 1) {\n                                setStockfishEval(evalValue.toFixed(1));\n                            }\n                            // Log move details for debugging\n                            console.log(\"\".concat(tempGame.turn() === \"w\" ? \"White\" : \"Black\", \" to move: \").concat(notation, \" (\").concat(evalValue.toFixed(2), \")\"));\n                            // Update debug info with move object\n                            setDebugInfo((prev)=>prev ? {\n                                    ...prev,\n                                    moveObject: moveObject ? {\n                                        san: moveObject.san,\n                                        from: moveObject.from,\n                                        to: moveObject.to,\n                                        piece: moveObject.piece,\n                                        color: moveObject.color\n                                    } : null,\n                                    currentTurn: tempGame.turn(),\n                                    error: undefined // Clear any previous error\n                                } : null);\n                        } catch (error) {\n                            console.error(\"Error applying move:\", error);\n                            // Update debug info with error\n                            setDebugInfo((prev)=>prev ? {\n                                    ...prev,\n                                    error: error instanceof Error ? error.message : String(error)\n                                } : null);\n                            // Fallback to UCI notation if move conversion fails\n                            setTopMoves((prev)=>{\n                                const newMoves = [\n                                    ...prev\n                                ];\n                                const index = parseInt(rank) - 1;\n                                newMoves[index] = {\n                                    move: uciMove,\n                                    evaluation: evalValue,\n                                    pv: []\n                                };\n                                return newMoves;\n                            });\n                        }\n                    }\n                }\n            };\n            stockfish.onerror = (error)=>{\n                console.error(\"Stockfish error:\", error);\n                setError(\"Failed to initialize Stockfish\");\n            };\n            console.log(\"Sending uci command...\");\n            stockfish.postMessage(\"uci\");\n            setEngine(stockfish);\n            return ()=>{\n                console.log(\"Terminating Stockfish...\");\n                stockfish.terminate();\n            };\n        } catch (err) {\n            console.error(\"Stockfish init error:\", err);\n            setError(err instanceof Error ? err.message : \"Unknown error\");\n        }\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (engine && isEngineReady) {\n            console.log(\"Sending position to Stockfish...\");\n            setIsEvaluating(true);\n            setTopMoves([]); // Reset top moves for new position\n            // Get all moves in UCI format\n            const moveHistory = game.history({\n                verbose: true\n            });\n            const uciMoves = moveHistory.map((move)=>move.from + move.to + (move.promotion || \"\")).join(\" \");\n            // Send the starting position and moves to Stockfish\n            engine.postMessage(\"position startpos\" + (uciMoves ? \" moves \".concat(uciMoves) : \"\"));\n            console.log(\"Sent to Stockfish:\", \"position startpos\" + (uciMoves ? \" moves \".concat(uciMoves) : \"\"));\n            engine.postMessage(\"go depth 15 movetime 1000\");\n        }\n    }, [\n        game.fen(),\n        engine,\n        isEngineReady\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (pgn) {\n            const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n            newGame.loadPgn(pgn);\n            // Extract moves from PGN\n            const moveHistory = newGame.history({\n                verbose: true\n            });\n            const moveList = moveHistory.map((move)=>\"\".concat(move.color === \"w\" ? \"White\" : \"Black\", \": \").concat(move.san));\n            setMoves(moveList);\n            // Format moves in PGN style\n            const formatted = [];\n            for(let i = 0; i < moveHistory.length; i += 2){\n                const moveNumber = Math.floor(i / 2) + 1;\n                const whiteMove = moveHistory[i].san;\n                const blackMove = moveHistory[i + 1] ? moveHistory[i + 1].san : \"\";\n                formatted.push(\"\".concat(moveNumber, \". \").concat(whiteMove, \" \").concat(blackMove));\n            }\n            setFormattedMoves(formatted);\n            // Set to final position\n            setGame(newGame);\n            setCurrentMove(moveList.length - 1);\n        }\n    }, [\n        pgn\n    ]);\n    const goToStart = ()=>{\n        const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n        setGame(newGame);\n        setCurrentMove(0);\n    };\n    const goToEnd = ()=>{\n        const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n        newGame.loadPgn(pgn);\n        setGame(newGame);\n        setCurrentMove(moves.length - 1);\n    };\n    const goToNextMove = ()=>{\n        if (currentMove < moves.length - 1) {\n            const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n            // Apply moves up to current position\n            for(let i = 0; i <= currentMove; i++){\n                const move = moves[i].split(\": \")[1];\n                newGame.move(move);\n            }\n            setGame(newGame);\n            setCurrentMove(currentMove + 1);\n        }\n    };\n    const goToPreviousMove = ()=>{\n        if (currentMove > 0) {\n            const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n            // Apply moves up to previous position\n            for(let i = 0; i < currentMove; i++){\n                const move = moves[i].split(\": \")[1];\n                newGame.move(move);\n            }\n            setGame(newGame);\n            setCurrentMove(currentMove - 1);\n        }\n    };\n    const goToMove = (index)=>{\n        const newGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n        // Apply moves up to selected position\n        for(let i = 0; i <= index; i++){\n            const move = moves[i].split(\": \")[1];\n            newGame.move(move);\n        }\n        setGame(newGame);\n        setCurrentMove(index);\n    };\n    const getEvaluationDisplay = ()=>{\n        if (error) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-red-500\",\n                children: error\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                lineNumber: 405,\n                columnNumber: 14\n            }, this);\n        }\n        if (!isEngineReady) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-gray-500\",\n                children: \"Loading engine...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                lineNumber: 408,\n                columnNumber: 14\n            }, this);\n        }\n        if (isEvaluating) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-gray-500\",\n                children: \"Evaluating...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                lineNumber: 411,\n                columnNumber: 14\n            }, this);\n        }\n        if (!stockfishEval) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-gray-500\",\n                children: \"No evaluation\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                lineNumber: 414,\n                columnNumber: 14\n            }, this);\n        }\n        const evalValue = parseFloat(stockfishEval);\n        const isPositive = evalValue >= 0;\n        const displayValue = isPositive ? \"+\".concat(evalValue.toFixed(1)) : evalValue.toFixed(1);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            className: isPositive ? \"text-green-600\" : \"text-red-600\",\n            children: displayValue\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n            lineNumber: 422,\n            columnNumber: 7\n        }, this);\n    };\n    const getTopMovesDisplay = ()=>{\n        if (!topMoves.length) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mt-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                    className: \"text-lg font-semibold mb-2\",\n                    children: \"Top Moves:\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                    className: \"space-y-1\",\n                    children: topMoves.map((move, index)=>{\n                        let evalValue = move.evaluation;\n                        // Flip evaluation for black's turn\n                        if ((debugInfo === null || debugInfo === void 0 ? void 0 : debugInfo.currentTurn) === \"b\") {\n                            evalValue = -evalValue;\n                        }\n                        const displayValue = evalValue >= 0 ? \"+\".concat(evalValue.toFixed(1)) : evalValue.toFixed(1);\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            className: \"text-blue-500\",\n                            children: [\n                                index + 1,\n                                \". \",\n                                move.move,\n                                \" (\",\n                                displayValue,\n                                \")\"\n                            ]\n                        }, index, true, {\n                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                            lineNumber: 444,\n                            columnNumber: 15\n                        }, this);\n                    })\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                    lineNumber: 434,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n            lineNumber: 432,\n            columnNumber: 7\n        }, this);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-4xl mx-auto\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-3xl font-bold mb-8\",\n                    children: \"Game Analysis\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                    lineNumber: 457,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-lg shadow p-4 mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-2\",\n                            children: [\n                                white,\n                                \" vs \",\n                                black\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                            lineNumber: 460,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-gray-600\",\n                            children: [\n                                \"Move \",\n                                currentMove + 1,\n                                \" of \",\n                                moves.length\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                            lineNumber: 463,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                    lineNumber: 459,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 gap-8\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-lg shadow p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"aspect-square mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_chessboard__WEBPACK_IMPORTED_MODULE_3__.Chessboard, {\n                                        position: game.fen(),\n                                        boardOrientation: \"white\",\n                                        customBoardStyle: {\n                                            borderRadius: \"4px\",\n                                            boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.3)\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                        lineNumber: 472,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                    lineNumber: 471,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-lg font-semibold\",\n                                            children: getEvaluationDisplay()\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 484,\n                                            columnNumber: 15\n                                        }, this),\n                                        getTopMovesDisplay()\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                    lineNumber: 483,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-center gap-2 mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: goToStart,\n                                            className: \"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50\",\n                                            disabled: currentMove === 0,\n                                            children: \"⏮️\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 492,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: goToPreviousMove,\n                                            className: \"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50\",\n                                            disabled: currentMove === 0,\n                                            children: \"⬅️\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 499,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: goToNextMove,\n                                            className: \"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50\",\n                                            disabled: currentMove === moves.length - 1,\n                                            children: \"➡️\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 506,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: goToEnd,\n                                            className: \"px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 disabled:opacity-50\",\n                                            disabled: currentMove === moves.length - 1,\n                                            children: \"⏭️\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 513,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                    lineNumber: 491,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                            lineNumber: 470,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-lg shadow p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-semibold mb-4\",\n                                    children: \"Move List\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                    lineNumber: 525,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap gap-2 text-sm\",\n                                    children: formattedMoves.map((move, index)=>{\n                                        const moveNumber = index + 1;\n                                        const [whiteMove, blackMove] = move.split(\" \").slice(1);\n                                        const isCurrentWhiteMove = currentMove === index * 2 - 1;\n                                        const isCurrentBlackMove = currentMove === index * 2;\n                                        // Get the position before each move\n                                        const whiteMoveGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n                                        const blackMoveGame = new chess_js__WEBPACK_IMPORTED_MODULE_2__.Chess();\n                                        // Apply moves up to but not including the current move\n                                        moves.slice(0, index * 2).forEach((m)=>{\n                                            const moveStr = m.split(\": \")[1];\n                                            whiteMoveGame.move(moveStr);\n                                            blackMoveGame.move(moveStr);\n                                        });\n                                        // For black's move, also apply white's move\n                                        if (blackMove) {\n                                            blackMoveGame.move(whiteMove);\n                                        }\n                                        // Get suggested moves for each position\n                                        const whiteSuggestedMoves = positionTopMoves[whiteMoveGame.fen()] || [];\n                                        const blackSuggestedMoves = positionTopMoves[blackMoveGame.fen()] || [];\n                                        // Only check if moves were among suggestions if we have suggestions for that position\n                                        // AND the move is not after the current move\n                                        const hasWhiteSuggestions = whiteSuggestedMoves.length > 0 && index * 2 - 1 <= currentMove;\n                                        const hasBlackSuggestions = blackSuggestedMoves.length > 0 && index * 2 <= currentMove;\n                                        const isWhiteMoveTopMove = hasWhiteSuggestions && whiteSuggestedMoves.some((tm)=>tm.move === whiteMove);\n                                        const isBlackMoveTopMove = hasBlackSuggestions && blackSuggestedMoves.some((tm)=>tm.move === blackMove);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: [\n                                                        moveNumber,\n                                                        \".\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                                    lineNumber: 562,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>goToMove(index * 2),\n                                                    className: \"px-1.5 py-0.5 rounded \".concat(hasWhiteSuggestions ? isWhiteMoveTopMove ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\" : \"hover:bg-gray-100\", \" \").concat(isCurrentWhiteMove ? \"font-bold\" : \"\"),\n                                                    children: whiteMove\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                                    lineNumber: 563,\n                                                    columnNumber: 21\n                                                }, this),\n                                                blackMove && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>goToMove(index * 2 + 1),\n                                                    className: \"px-1.5 py-0.5 rounded \".concat(hasBlackSuggestions ? isBlackMoveTopMove ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\" : \"hover:bg-gray-100\", \" \").concat(isCurrentBlackMove ? \"font-bold\" : \"\"),\n                                                    children: blackMove\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                                    lineNumber: 578,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                            lineNumber: 561,\n                                            columnNumber: 19\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                                    lineNumber: 526,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                            lineNumber: 524,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n                    lineNumber: 468,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n            lineNumber: 456,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\amirn\\\\OneDrive\\\\chessmentor\\\\src\\\\app\\\\analysis\\\\page.tsx\",\n        lineNumber: 455,\n        columnNumber: 5\n    }, this);\n}\n_s(AnalysisPage, \"dVtoTcGjHB/gIMGorJuJ9OMoUSk=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_4__.useSearchParams\n    ];\n});\n_c = AnalysisPage;\nvar _c;\n$RefreshReg$(_c, \"AnalysisPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvYW5hbHlzaXMvcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRW9EO0FBQ2I7QUFDTztBQUNJO0FBWW5DLFNBQVNNOztJQUN0QixNQUFNQyxlQUFlRixnRUFBZUE7SUFDcEMsTUFBTUcsTUFBTUQsYUFBYUUsR0FBRyxDQUFDLFVBQVU7SUFDdkMsTUFBTUMsUUFBUUgsYUFBYUUsR0FBRyxDQUFDLFlBQVk7SUFDM0MsTUFBTUUsUUFBUUosYUFBYUUsR0FBRyxDQUFDLFlBQVk7SUFFM0MsTUFBTSxDQUFDRyxNQUFNQyxRQUFRLEdBQUdaLCtDQUFRQSxDQUFDLElBQUlFLDJDQUFLQTtJQUMxQyxNQUFNVyxVQUFVWiw2Q0FBTUEsQ0FBQyxJQUFJQywyQ0FBS0E7SUFDaEMsTUFBTSxDQUFDWSxhQUFhQyxlQUFlLEdBQUdmLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2dCLE9BQU9DLFNBQVMsR0FBR2pCLCtDQUFRQSxDQUFXLEVBQUU7SUFDL0MsTUFBTSxDQUFDa0IsZ0JBQWdCQyxrQkFBa0IsR0FBR25CLCtDQUFRQSxDQUFXLEVBQUU7SUFDakUsTUFBTSxDQUFDb0IsWUFBWUMsY0FBYyxHQUFHckIsK0NBQVFBLENBQWdCO0lBQzVELE1BQU0sQ0FBQ3NCLFVBQVVDLFlBQVksR0FBR3ZCLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDd0Isa0JBQWtCQyxvQkFBb0IsR0FBR3pCLCtDQUFRQSxDQUFtQixDQUFDO0lBQzVFLE1BQU0sQ0FBQzBCLGFBQWFDLGVBQWUsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzRCLGFBQWFDLGVBQWUsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQzhCLGFBQWFDLGVBQWUsR0FBRy9CLCtDQUFRQSxDQUFXLEVBQUU7SUFDM0QsTUFBTSxDQUFDZ0MsVUFBVUMsWUFBWSxHQUFHakMsK0NBQVFBLENBQVM7SUFDakQsTUFBTSxDQUFD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SSxFQUFFO3dDQUV2RSxzRkFBc0Y7d0NBQ3RGLDZDQUE2Qzt3Q0FDN0MsTUFBTW9ILHNCQUFzQkYsb0JBQW9CaEgsTUFBTSxHQUFHLEtBQUssUUFBUyxJQUFJLEtBQU0zQzt3Q0FDakYsTUFBTThKLHNCQUFzQkYsb0JBQW9CakgsTUFBTSxHQUFHLEtBQUssUUFBUyxLQUFNM0M7d0NBQzdFLE1BQU0rSixxQkFBcUJGLHVCQUF1QkYsb0JBQW9CSyxJQUFJLENBQUNDLENBQUFBLEtBQU1BLEdBQUd6RSxJQUFJLEtBQUtnQzt3Q0FDN0YsTUFBTTBDLHFCQUFxQkosdUJBQXVCRixvQkFBb0JJLElBQUksQ0FBQ0MsQ0FBQUEsS0FBTUEsR0FBR3pFLElBQUksS0FBS2lDO3dDQUU3RixxQkFDRSw4REFBQ2M7NENBQWdCTCxXQUFVOzs4REFDekIsOERBQUNEO29EQUFLQyxXQUFVOzt3REFBaUJiO3dEQUFXOzs7Ozs7OzhEQUM1Qyw4REFBQzZCO29EQUNDQyxTQUFTLElBQU1wQixTQUFTMUIsUUFBUTtvREFDaEM2QixXQUFXLHlCQU9UbUIsT0FOQVEsc0JBQ0lFLHFCQUNFLGdDQUNBLDRCQUNGLHFCQUNMLEtBRUEsT0FEQ1YscUJBQXFCLGNBQWM7OERBR3BDN0I7Ozs7OztnREFFRkMsMkJBQ0MsOERBQUN5QjtvREFDQ0MsU0FBUyxJQUFNcEIsU0FBUzFCLFFBQVEsSUFBSTtvREFDcEM2QixXQUFXLHlCQU9Ub0IsT0FOQVEsc0JBQ0lJLHFCQUNFLGdDQUNBLDRCQUNGLHFCQUNMLEtBRUEsT0FEQ1oscUJBQXFCLGNBQWM7OERBR3BDN0I7Ozs7Ozs7MkNBN0JHcEI7Ozs7O29DQWtDZDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPZDtHQXhrQndCOUc7O1FBQ0RELDREQUFlQTs7O0tBRGRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvYW5hbHlzaXMvcGFnZS50c3g/NmYxZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENoZXNzLCBNb3ZlIH0gZnJvbSAnY2hlc3MuanMnO1xuaW1wb3J0IHsgQ2hlc3Nib2FyZCB9IGZyb20gJ3JlYWN0LWNoZXNzYm9hcmQnO1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuaW50ZXJmYWNlIFRvcE1vdmUge1xuICBtb3ZlOiBzdHJpbmc7XG4gIGV2YWx1YXRpb246IG51bWJlcjtcbiAgcHY6IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgUG9zaXRpb25Ub3BNb3ZlcyB7XG4gIFtmZW46IHN0cmluZ106IFRvcE1vdmVbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQW5hbHlzaXNQYWdlKCkge1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcbiAgY29uc3QgcGduID0gc2VhcmNoUGFyYW1zLmdldCgncGduJykgfHwgJyc7XG4gIGNvbnN0IHdoaXRlID0gc2VhcmNoUGFyYW1zLmdldCgnd2hpdGUnKSB8fCAnJztcbiAgY29uc3QgYmxhY2sgPSBzZWFyY2hQYXJhbXMuZ2V0KCdibGFjaycpIHx8ICcnO1xuXG4gIGNvbnN0IFtnYW1lLCBzZXRHYW1lXSA9IHVzZVN0YXRlKG5ldyBDaGVzcygpKTtcbiAgY29uc3QgZ2FtZVJlZiA9IHVzZVJlZihuZXcgQ2hlc3MoKSk7XG4gIGNvbnN0IFtjdXJyZW50TW92ZSwgc2V0Q3VycmVudE1vdmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFttb3Zlcywgc2V0TW92ZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2Zvcm1hdHRlZE1vdmVzLCBzZXRGb3JtYXR0ZWRNb3Zlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbZXZhbHVhdGlvbiwgc2V0RXZhbHVhdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RvcE1vdmVzLCBzZXRUb3BNb3Zlc10gPSB1c2VTdGF0ZTxUb3BNb3ZlW10+KFtdKTtcbiAgY29uc3QgW3Bvc2l0aW9uVG9wTW92ZXMsIHNldFBvc2l0aW9uVG9wTW92ZXNdID0gdXNlU3RhdGU8UG9zaXRpb25Ub3BNb3Zlcz4oe30pO1xuICBjb25zdCBbaXNBbmFseXppbmcsIHNldElzQW5hbHl6aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VuZ2luZURlcHRoLCBzZXRFbmdpbmVEZXB0aF0gPSB1c2VTdGF0ZSgxNSk7XG4gIGNvbnN0IFtlbmdpbmVMaW5lcywgc2V0RW5naW5lTGluZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2Jlc3RNb3ZlLCBzZXRCZXN0TW92ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2lzRmxpcHBlZCwgc2V0SXNGbGlwcGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3doaXRlTmFtZSwgc2V0V2hpdGVOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2JsYWNrTmFtZSwgc2V0QmxhY2tOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW29yaWVudGF0aW9uLCBzZXRPcmllbnRhdGlvbl0gPSB1c2VTdGF0ZTwnd2hpdGUnIHwgJ2JsYWNrJz4oJ3doaXRlJyk7XG4gIGNvbnN0IFtzdG9ja2Zpc2hFdmFsLCBzZXRTdG9ja2Zpc2hFdmFsXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbaXNFdmFsdWF0aW5nLCBzZXRJc0V2YWx1YXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZW5naW5lLCBzZXRFbmdpbmVdID0gdXNlU3RhdGU8YW55PihudWxsKTtcbiAgY29uc3QgW2lzRW5naW5lUmVhZHksIHNldElzRW5naW5lUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZGVidWdJbmZvLCBzZXREZWJ1Z0luZm9dID0gdXNlU3RhdGU8e1xuICAgIGZyb206IHN0cmluZztcbiAgICB0bzogc3RyaW5nO1xuICAgIGZlbjogc3RyaW5nO1xuICAgIG1vdmVPYmplY3Q6IHtcbiAgICAgIHNhbjogc3RyaW5nO1xuICAgICAgZnJvbTogc3RyaW5nO1xuICAgICAgdG86IHN0cmluZztcbiAgICAgIHBpZWNlOiBzdHJpbmc7XG4gICAgICBjb2xvcjogc3RyaW5nO1xuICAgIH0gfCBudWxsO1xuICAgIGVycm9yPzogc3RyaW5nO1xuICAgIHVjaU1vdmU6IHN0cmluZztcbiAgICBjdXJyZW50VHVybjogc3RyaW5nO1xuICAgIG1vdmVJbmRleDogbnVtYmVyO1xuICB9IHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWdhbWUpIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRGZW4gPSBnYW1lLmZlbigpO1xuICAgIHNldE1vdmVzKGdhbWUuaGlzdG9yeSgpKTtcbiAgICBzZXRDdXJyZW50TW92ZShnYW1lLmhpc3RvcnkoKS5sZW5ndGggLSAxKTtcblxuICAgIC8vIFN0YXJ0IGFuYWx5c2lzIGlmIGVuYWJsZWRcbiAgICBpZiAoaXNBbmFseXppbmcpIHtcbiAgICAgIGFuYWx5emVQb3NpdGlvbihjdXJyZW50RmVuKTtcbiAgICB9XG4gIH0sIFtnYW1lXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgU3RvY2tmaXNoLi4uJyk7XG4gICAgICBjb25zdCBzdG9ja2Zpc2ggPSBuZXcgV29ya2VyKCcvc3RvY2tmaXNoLmpzJyk7XG4gICAgICBcbiAgICAgIGlmICghc3RvY2tmaXNoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdG9ja2Zpc2ggZmFpbGVkIHRvIGluaXRpYWxpemVcIik7XG4gICAgICAgIHNldEVycm9yKFwiU3RvY2tmaXNoIGZhaWxlZCB0byBpbml0aWFsaXplLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnU3RvY2tmaXNoIGluaXRpYWxpemVkJyk7XG4gICAgICBcbiAgICAgIHN0b2NrZmlzaC5vbm1lc3NhZ2UgPSAoZXZlbnQ6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBldmVudC5kYXRhIGFzIHN0cmluZztcbiAgICAgICAgY29uc29sZS5sb2coJ1N0b2NrZmlzaCBvdXRwdXQ6Jywgb3V0cHV0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChvdXRwdXQuaW5jbHVkZXMoJ3VjaW9rJykpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgdWNpb2ssIHNldHRpbmcgb3B0aW9ucy4uLicpO1xuICAgICAgICAgIHN0b2NrZmlzaC5wb3N0TWVzc2FnZSgnc2V0b3B0aW9uIG5hbWUgTXVsdGlQViB2YWx1ZSAzJyk7XG4gICAgICAgICAgc3RvY2tmaXNoLnBvc3RNZXNzYWdlKCdzZXRvcHRpb24gbmFtZSBUaHJlYWRzIHZhbHVlIDQnKTtcbiAgICAgICAgICBzdG9ja2Zpc2gucG9zdE1lc3NhZ2UoJ3NldG9wdGlvbiBuYW1lIEhhc2ggdmFsdWUgMTYnKTtcbiAgICAgICAgICBzdG9ja2Zpc2gucG9zdE1lc3NhZ2UoJ3NldG9wdGlvbiBuYW1lIE1pbmltdW0gVGhpbmtpbmcgVGltZSB2YWx1ZSAyMCcpO1xuICAgICAgICAgIHN0b2NrZmlzaC5wb3N0TWVzc2FnZSgnc2V0b3B0aW9uIG5hbWUgU2xvdyBNb3ZlciB2YWx1ZSAxMDAnKTtcbiAgICAgICAgICBzdG9ja2Zpc2gucG9zdE1lc3NhZ2UoJ3NldG9wdGlvbiBuYW1lIFVDSV9MaW1pdFN0cmVuZ3RoIHZhbHVlIGZhbHNlJyk7XG4gICAgICAgICAgc3RvY2tmaXNoLnBvc3RNZXNzYWdlKCdzZXRvcHRpb24gbmFtZSBVQ0lfRWxvIHZhbHVlIDE1MDAnKTtcbiAgICAgICAgICBzdG9ja2Zpc2gucG9zdE1lc3NhZ2UoJ2lzcmVhZHknKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdXRwdXQuaW5jbHVkZXMoJ3JlYWR5b2snKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdFbmdpbmUgaXMgcmVhZHknKTtcbiAgICAgICAgICBzZXRJc0VuZ2luZVJlYWR5KHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKG91dHB1dC5pbmNsdWRlcygnYmVzdG1vdmUnKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBiZXN0bW92ZScpO1xuICAgICAgICAgIHNldElzRXZhbHVhdGluZyhmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0cHV0LmluY2x1ZGVzKCdpbmZvIGRlcHRoJykpIHtcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IG91dHB1dC5tYXRjaCgvaW5mbyBkZXB0aCBcXGQrIC4qP211bHRpcHYgKFxcZCspIC4qP3Njb3JlIChjcHxtYXRlKSAoLT9cXGQrKS4qPyBwdiAoXFxTKykvKTtcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IFssIHJhbmssIHR5cGUsIHZhbHVlLCB1Y2lNb3ZlXSA9IG1hdGNoO1xuXG4gICAgICAgICAgICAvLyBLZWVwIGV2YWx1YXRpb24gZnJvbSBXaGl0ZSdzIHBlcnNwZWN0aXZlXG4gICAgICAgICAgICBjb25zdCBldmFsVmFsdWUgPSB0eXBlID09PSAnY3AnID8gcGFyc2VJbnQodmFsdWUpIC8gMTAwIDogcGFyc2VJbnQodmFsdWUpO1xuXG4gICAgICAgICAgICAvLyBFeHRyYWN0IFVDSSBtb3ZlIGRldGFpbHNcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSB1Y2lNb3ZlLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgY29uc3QgdG8gPSB1Y2lNb3ZlLnNsaWNlKDIsIDQpO1xuICAgICAgICAgICAgY29uc3QgcHJvbW90aW9uID0gdWNpTW92ZS5sZW5ndGggPiA0ID8gdWNpTW92ZVs0XSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIGN1cnJlbnQgZ2FtZSBzdGF0ZSB1c2luZyB0aGUgcmVmXG4gICAgICAgICAgICBjb25zdCB0ZW1wR2FtZSA9IG5ldyBDaGVzcygpO1xuICAgICAgICAgICAgdGVtcEdhbWUubG9hZChnYW1lLmZlbigpKTtcblxuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZnVsbCBQViBsaW5lIC0gZ2V0IG9ubHkgdGhlIG1vdmVzIGFmdGVyIFwicHZcIlxuICAgICAgICAgICAgY29uc3QgcHZNYXRjaCA9IG91dHB1dC5tYXRjaCgvXFxicHZcXGIoLio/KSg/PVxccytcXGIoPzptdWx0aXB2fGRlcHRofHNlbGRlcHRofHNjb3JlfG5vZGVzfG5wc3x0YmhpdHN8dGltZXwkKXxcXHMqJCkvKTtcbiAgICAgICAgICAgIGNvbnN0IHB2TW92ZXMgPSBwdk1hdGNoID8gcHZNYXRjaFsxXS50cmltKCkuc3BsaXQoJyAnKSA6IFtdO1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgcG9zaXRpb24ncyB0dXJuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VHVybiA9IHRlbXBHYW1lLnR1cm4oKTtcblxuICAgICAgICAgICAgLy8gTG9nIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ3VycmVudCBzdGF0ZTonLCB7XG4gICAgICAgICAgICAgIGdhbWVGZW46IGdhbWUuZmVuKCksXG4gICAgICAgICAgICAgIHRlbXBHYW1lRmVuOiB0ZW1wR2FtZS5mZW4oKSxcbiAgICAgICAgICAgICAgdHVybjogY3VycmVudFR1cm4sXG4gICAgICAgICAgICAgIG1vdmVIaXN0b3J5OiBnYW1lLmhpc3RvcnkoeyB2ZXJib3NlOiB0cnVlIH0pLm1hcChtID0+IG0uc2FuKSxcbiAgICAgICAgICAgICAgbGFzdE1vdmU6IGdhbWUuaGlzdG9yeSh7IHZlcmJvc2U6IHRydWUgfSkubGVuZ3RoID4gMCA/IGdhbWUuaGlzdG9yeSh7IHZlcmJvc2U6IHRydWUgfSlbZ2FtZS5oaXN0b3J5KHsgdmVyYm9zZTogdHJ1ZSB9KS5sZW5ndGggLSAxXSA6IG51bGxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBhbmFseXppbmcgYSBtb3ZlIHRoYXQgZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCB0dXJuLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBmaW5kIGFuZCBhcHBseSB0aGUgYXBwcm9wcmlhdGUgcHJlY2VkaW5nIG1vdmVzXG4gICAgICAgICAgICBpZiAocHZNb3Zlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyB3aGl0ZSdzIHR1cm4gYW5kIHdlJ3JlIGxvb2tpbmcgYXQgYSBibGFjayBtb3ZlIChmcm9tIHJhbmsgNyksXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBmaW5kIGEgd2hpdGUgbW92ZSB0byBhcHBseSBmaXJzdFxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VHVybiA9PT0gJ3cnICYmIGZyb21bMV0gPT09ICc3Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhIHdoaXRlIG1vdmUgaW4gdGhlIFBWIGxpbmUgdGhhdCBjb21lcyBiZWZvcmUgb3VyIHRhcmdldCBtb3ZlXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHZNb3Zlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW92ZVRvVHJ5ID0gcHZNb3Zlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNraXAgaWYgdGhpcyBpcyBvdXIgdGFyZ2V0IG1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb3ZlVG9UcnkgPT09IHVjaU1vdmUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gZmluZCBhIHZhbGlkIHdoaXRlIG1vdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyeUZyb20gPSBtb3ZlVG9Ucnkuc2xpY2UoMCwgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgd2hpdGUgbW92ZSAoZnJvbSByYW5rIDIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ5RnJvbVsxXSA9PT0gJzInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJ5VG8gPSBtb3ZlVG9Ucnkuc2xpY2UoMiwgNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyeVByb21vdGlvbiA9IG1vdmVUb1RyeS5sZW5ndGggPiA0ID8gbW92ZVRvVHJ5WzRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyB3aGl0ZSBtb3ZlOicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmU6IG1vdmVUb1RyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IHRyeUZyb20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogdHJ5VG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tb3Rpb246IHRyeVByb21vdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUdXJuOiB0ZW1wR2FtZS50dXJuKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGVtcEdhbWUubW92ZSh7IGZyb206IHRyeUZyb20sIHRvOiB0cnlUbywgcHJvbW90aW9uOiB0cnlQcm9tb3Rpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgYXBwbGllZCB3aGl0ZSBtb3ZlOicsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB0cnlpbmcgd2hpdGUgbW92ZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE5vdyB3ZSBzaG91bGQgYmUgYXQgdGhlIHJpZ2h0IHBvc2l0aW9uIHRvIG1ha2Ugb3VyIG1vdmVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUmVhZHkgdG8gYXBwbHkgdGFyZ2V0IG1vdmU6Jywge1xuICAgICAgICAgICAgICAgICAgICB1Y2lNb3ZlLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RmVuOiB0ZW1wR2FtZS5mZW4oKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFR1cm46IHRlbXBHYW1lLnR1cm4oKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTdG9yZSBkZWJ1ZyBpbmZvIGZvciBkaXNwbGF5XG4gICAgICAgICAgICBzZXREZWJ1Z0luZm8oe1xuICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgZmVuOiBnYW1lLmZlbigpLFxuICAgICAgICAgICAgICBtb3ZlT2JqZWN0OiBudWxsLFxuICAgICAgICAgICAgICB1Y2lNb3ZlLFxuICAgICAgICAgICAgICBjdXJyZW50VHVybjogdGVtcEdhbWUudHVybigpLFxuICAgICAgICAgICAgICBtb3ZlSW5kZXg6IHB2TW92ZXMuaW5kZXhPZih1Y2lNb3ZlKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEFkZCBkZWJ1ZyBsb2dnaW5nXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQmVmb3JlIG1vdmU6Jywge1xuICAgICAgICAgICAgICBmZW46IHRlbXBHYW1lLmZlbigpLFxuICAgICAgICAgICAgICB0dXJuOiB0ZW1wR2FtZS50dXJuKCksXG4gICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgICBwcm9tb3Rpb24sXG4gICAgICAgICAgICAgIGlzQ2hlY2s6IHRlbXBHYW1lLmlzQ2hlY2soKSxcbiAgICAgICAgICAgICAgbW92ZXM6IHRlbXBHYW1lLm1vdmVzKHsgdmVyYm9zZTogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgcHZNb3Zlc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIEFwcGx5IHRoZSBtb3ZlIHRvIHRoZSB0ZW1wb3JhcnkgZ2FtZSBpbnN0YW5jZVxuICAgICAgICAgICAgICBjb25zdCBtb3ZlT2JqZWN0ID0gdGVtcEdhbWUubW92ZSh7IFxuICAgICAgICAgICAgICAgIGZyb20sIFxuICAgICAgICAgICAgICAgIHRvLCBcbiAgICAgICAgICAgICAgICBwcm9tb3Rpb25cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gQWRkIGRlYnVnIGxvZ2dpbmcgZm9yIHN1Y2Nlc3NmdWwgbW92ZVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWZ0ZXIgbW92ZTonLCB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogISFtb3ZlT2JqZWN0LFxuICAgICAgICAgICAgICAgIG1vdmVPYmplY3QsXG4gICAgICAgICAgICAgICAgbmV3RmVuOiB0ZW1wR2FtZS5mZW4oKSxcbiAgICAgICAgICAgICAgICBuZXdUdXJuOiB0ZW1wR2FtZS50dXJuKClcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gR2V0IGNvcnJlY3Qgc3RhbmRhcmQgYWxnZWJyYWljIG5vdGF0aW9uXG4gICAgICAgICAgICAgIGNvbnN0IG5vdGF0aW9uID0gbW92ZU9iamVjdCA/IG1vdmVPYmplY3Quc2FuIDogdWNpTW92ZTtcblxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIFBWIGxpbmUgKHByaW5jaXBhbCB2YXJpYXRpb24pXG4gICAgICAgICAgICAgIGNvbnN0IHB2TWF0Y2ggPSBvdXRwdXQubWF0Y2goL3B2ICguKykvKTtcbiAgICAgICAgICAgICAgY29uc3QgcHYgPSBwdk1hdGNoID8gcHZNYXRjaFsxXS5zcGxpdCgnICcpLnNsaWNlKDAsIDMpIDogW107XG5cbiAgICAgICAgICAgICAgc2V0VG9wTW92ZXMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TW92ZXMgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChyYW5rKSAtIDE7XG4gICAgICAgICAgICAgICAgbmV3TW92ZXNbaW5kZXhdID0geyBtb3ZlOiBub3RhdGlvbiwgZXZhbHVhdGlvbjogZXZhbFZhbHVlLCBwdiB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdNb3ZlcztcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgLy8gU3RvcmUgdG9wIG1vdmVzIGZvciB0aGUgY3VycmVudCBwb3NpdGlvblxuICAgICAgICAgICAgICBzZXRQb3NpdGlvblRvcE1vdmVzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgIFtnYW1lLmZlbigpXTogWy4uLihwcmV2W2dhbWUuZmVuKCldIHx8IFtdKSwgeyBtb3ZlOiBub3RhdGlvbiwgZXZhbHVhdGlvbjogZXZhbFZhbHVlLCBwdiB9XVxuICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgLy8gVXBkYXRlIG1haW4gZXZhbHVhdGlvbiBmcm9tIHRoZSBiZXN0IG1vdmVcbiAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KHJhbmspID09PSAxKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RvY2tmaXNoRXZhbChldmFsVmFsdWUudG9GaXhlZCgxKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBMb2cgbW92ZSBkZXRhaWxzIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7dGVtcEdhbWUudHVybigpID09PSBcIndcIiA/IFwiV2hpdGVcIiA6IFwiQmxhY2tcIn0gdG8gbW92ZTogJHtub3RhdGlvbn0gKCR7ZXZhbFZhbHVlLnRvRml4ZWQoMil9KWApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIGRlYnVnIGluZm8gd2l0aCBtb3ZlIG9iamVjdFxuICAgICAgICAgICAgICBzZXREZWJ1Z0luZm8ocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgbW92ZU9iamVjdDogbW92ZU9iamVjdCA/IHtcbiAgICAgICAgICAgICAgICAgIHNhbjogbW92ZU9iamVjdC5zYW4sXG4gICAgICAgICAgICAgICAgICBmcm9tOiBtb3ZlT2JqZWN0LmZyb20sXG4gICAgICAgICAgICAgICAgICB0bzogbW92ZU9iamVjdC50byxcbiAgICAgICAgICAgICAgICAgIHBpZWNlOiBtb3ZlT2JqZWN0LnBpZWNlLFxuICAgICAgICAgICAgICAgICAgY29sb3I6IG1vdmVPYmplY3QuY29sb3JcbiAgICAgICAgICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50VHVybjogdGVtcEdhbWUudHVybigpLFxuICAgICAgICAgICAgICAgIGVycm9yOiB1bmRlZmluZWQgIC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvclxuICAgICAgICAgICAgICB9IDogbnVsbCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYXBwbHlpbmcgbW92ZTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAvLyBVcGRhdGUgZGVidWcgaW5mbyB3aXRoIGVycm9yXG4gICAgICAgICAgICAgIHNldERlYnVnSW5mbyhwcmV2ID0+IHByZXYgPyB7XG4gICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICAgICAgICAgIH0gOiBudWxsKTtcbiAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gVUNJIG5vdGF0aW9uIGlmIG1vdmUgY29udmVyc2lvbiBmYWlsc1xuICAgICAgICAgICAgICBzZXRUb3BNb3ZlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdNb3ZlcyA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHJhbmspIC0gMTtcbiAgICAgICAgICAgICAgICBuZXdNb3Zlc1tpbmRleF0gPSB7IG1vdmU6IHVjaU1vdmUsIGV2YWx1YXRpb246IGV2YWxWYWx1ZSwgcHY6IFtdIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld01vdmVzO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHN0b2NrZmlzaC5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdG9ja2Zpc2ggZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBTdG9ja2Zpc2hcIik7XG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnU2VuZGluZyB1Y2kgY29tbWFuZC4uLicpO1xuICAgICAgc3RvY2tmaXNoLnBvc3RNZXNzYWdlKCd1Y2knKTtcbiAgICAgIHNldEVuZ2luZShzdG9ja2Zpc2gpO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnVGVybWluYXRpbmcgU3RvY2tmaXNoLi4uJyk7XG4gICAgICAgIHN0b2NrZmlzaC50ZXJtaW5hdGUoKTtcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdG9ja2Zpc2ggaW5pdCBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChlbmdpbmUgJiYgaXNFbmdpbmVSZWFkeSkge1xuICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nIHBvc2l0aW9uIHRvIFN0b2NrZmlzaC4uLlwiKTtcbiAgICAgIHNldElzRXZhbHVhdGluZyh0cnVlKTtcbiAgICAgIHNldFRvcE1vdmVzKFtdKTsgLy8gUmVzZXQgdG9wIG1vdmVzIGZvciBuZXcgcG9zaXRpb25cblxuICAgICAgLy8gR2V0IGFsbCBtb3ZlcyBpbiBVQ0kgZm9ybWF0XG4gICAgICBjb25zdCBtb3ZlSGlzdG9yeSA9IGdhbWUuaGlzdG9yeSh7IHZlcmJvc2U6IHRydWUgfSk7XG4gICAgICBjb25zdCB1Y2lNb3ZlcyA9IG1vdmVIaXN0b3J5Lm1hcChtb3ZlID0+IG1vdmUuZnJvbSArIG1vdmUudG8gKyAobW92ZS5wcm9tb3Rpb24gfHwgJycpKS5qb2luKCcgJyk7XG4gICAgICBcbiAgICAgIC8vIFNlbmQgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIGFuZCBtb3ZlcyB0byBTdG9ja2Zpc2hcbiAgICAgIGVuZ2luZS5wb3N0TWVzc2FnZSgncG9zaXRpb24gc3RhcnRwb3MnICsgKHVjaU1vdmVzID8gYCBtb3ZlcyAke3VjaU1vdmVzfWAgOiAnJykpO1xuICAgICAgY29uc29sZS5sb2coJ1NlbnQgdG8gU3RvY2tmaXNoOicsICdwb3NpdGlvbiBzdGFydHBvcycgKyAodWNpTW92ZXMgPyBgIG1vdmVzICR7dWNpTW92ZXN9YCA6ICcnKSk7XG4gICAgICBcbiAgICAgIGVuZ2luZS5wb3N0TWVzc2FnZSgnZ28gZGVwdGggMTUgbW92ZXRpbWUgMTAwMCcpO1xuICAgIH1cbiAgfSwgW2dhbWUuZmVuKCksIGVuZ2luZSwgaXNFbmdpbmVSZWFkeV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHBnbikge1xuICAgICAgY29uc3QgbmV3R2FtZSA9IG5ldyBDaGVzcygpO1xuICAgICAgbmV3R2FtZS5sb2FkUGduKHBnbik7XG4gICAgICBcbiAgICAgIC8vIEV4dHJhY3QgbW92ZXMgZnJvbSBQR05cbiAgICAgIGNvbnN0IG1vdmVIaXN0b3J5ID0gbmV3R2FtZS5oaXN0b3J5KHsgdmVyYm9zZTogdHJ1ZSB9KTtcbiAgICAgIGNvbnN0IG1vdmVMaXN0ID0gbW92ZUhpc3RvcnkubWFwKG1vdmUgPT4gYCR7bW92ZS5jb2xvciA9PT0gJ3cnID8gJ1doaXRlJyA6ICdCbGFjayd9OiAke21vdmUuc2FufWApO1xuICAgICAgc2V0TW92ZXMobW92ZUxpc3QpO1xuICAgICAgXG4gICAgICAvLyBGb3JtYXQgbW92ZXMgaW4gUEdOIHN0eWxlXG4gICAgICBjb25zdCBmb3JtYXR0ZWQgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92ZUhpc3RvcnkubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgY29uc3QgbW92ZU51bWJlciA9IE1hdGguZmxvb3IoaSAvIDIpICsgMTtcbiAgICAgICAgY29uc3Qgd2hpdGVNb3ZlID0gbW92ZUhpc3RvcnlbaV0uc2FuO1xuICAgICAgICBjb25zdCBibGFja01vdmUgPSBtb3ZlSGlzdG9yeVtpICsgMV0gPyBtb3ZlSGlzdG9yeVtpICsgMV0uc2FuIDogJyc7XG4gICAgICAgIGZvcm1hdHRlZC5wdXNoKGAke21vdmVOdW1iZXJ9LiAke3doaXRlTW92ZX0gJHtibGFja01vdmV9YCk7XG4gICAgICB9XG4gICAgICBzZXRGb3JtYXR0ZWRNb3Zlcyhmb3JtYXR0ZWQpO1xuICAgICAgXG4gICAgICAvLyBTZXQgdG8gZmluYWwgcG9zaXRpb25cbiAgICAgIHNldEdhbWUobmV3R2FtZSk7XG4gICAgICBzZXRDdXJyZW50TW92ZShtb3ZlTGlzdC5sZW5ndGggLSAxKTtcbiAgICB9XG4gIH0sIFtwZ25dKTtcblxuICBjb25zdCBnb1RvU3RhcnQgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3R2FtZSA9IG5ldyBDaGVzcygpO1xuICAgIHNldEdhbWUobmV3R2FtZSk7XG4gICAgc2V0Q3VycmVudE1vdmUoMCk7XG4gIH07XG5cbiAgY29uc3QgZ29Ub0VuZCA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdHYW1lID0gbmV3IENoZXNzKCk7XG4gICAgbmV3R2FtZS5sb2FkUGduKHBnbik7XG4gICAgc2V0R2FtZShuZXdHYW1lKTtcbiAgICBzZXRDdXJyZW50TW92ZShtb3Zlcy5sZW5ndGggLSAxKTtcbiAgfTtcblxuICBjb25zdCBnb1RvTmV4dE1vdmUgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRNb3ZlIDwgbW92ZXMubGVuZ3RoIC0gMSkge1xuICAgICAgY29uc3QgbmV3R2FtZSA9IG5ldyBDaGVzcygpO1xuICAgICAgLy8gQXBwbHkgbW92ZXMgdXAgdG8gY3VycmVudCBwb3NpdGlvblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gY3VycmVudE1vdmU7IGkrKykge1xuICAgICAgICBjb25zdCBtb3ZlID0gbW92ZXNbaV0uc3BsaXQoJzogJylbMV07XG4gICAgICAgIG5ld0dhbWUubW92ZShtb3ZlKTtcbiAgICAgIH1cbiAgICAgIHNldEdhbWUobmV3R2FtZSk7XG4gICAgICBzZXRDdXJyZW50TW92ZShjdXJyZW50TW92ZSArIDEpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnb1RvUHJldmlvdXNNb3ZlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TW92ZSA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0dhbWUgPSBuZXcgQ2hlc3MoKTtcbiAgICAgIC8vIEFwcGx5IG1vdmVzIHVwIHRvIHByZXZpb3VzIHBvc2l0aW9uXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRNb3ZlOyBpKyspIHtcbiAgICAgICAgY29uc3QgbW92ZSA9IG1vdmVzW2ldLnNwbGl0KCc6ICcpWzFdO1xuICAgICAgICBuZXdHYW1lLm1vdmUobW92ZSk7XG4gICAgICB9XG4gICAgICBzZXRHYW1lKG5ld0dhbWUpO1xuICAgICAgc2V0Q3VycmVudE1vdmUoY3VycmVudE1vdmUgLSAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ29Ub01vdmUgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG5ld0dhbWUgPSBuZXcgQ2hlc3MoKTtcbiAgICAvLyBBcHBseSBtb3ZlcyB1cCB0byBzZWxlY3RlZCBwb3NpdGlvblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGluZGV4OyBpKyspIHtcbiAgICAgIGNvbnN0IG1vdmUgPSBtb3Zlc1tpXS5zcGxpdCgnOiAnKVsxXTtcbiAgICAgIG5ld0dhbWUubW92ZShtb3ZlKTtcbiAgICB9XG4gICAgc2V0R2FtZShuZXdHYW1lKTtcbiAgICBzZXRDdXJyZW50TW92ZShpbmRleCk7XG4gIH07XG5cbiAgY29uc3QgZ2V0RXZhbHVhdGlvbkRpc3BsYXkgPSAoKSA9PiB7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+e2Vycm9yfTwvc3Bhbj47XG4gICAgfVxuICAgIGlmICghaXNFbmdpbmVSZWFkeSkge1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5Mb2FkaW5nIGVuZ2luZS4uLjwvc3Bhbj47XG4gICAgfVxuICAgIGlmIChpc0V2YWx1YXRpbmcpIHtcbiAgICAgIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+RXZhbHVhdGluZy4uLjwvc3Bhbj47XG4gICAgfVxuICAgIGlmICghc3RvY2tmaXNoRXZhbCkge1xuICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5ObyBldmFsdWF0aW9uPC9zcGFuPjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgZXZhbFZhbHVlID0gcGFyc2VGbG9hdChzdG9ja2Zpc2hFdmFsKTtcbiAgICBjb25zdCBpc1Bvc2l0aXZlID0gZXZhbFZhbHVlID49IDA7XG4gICAgY29uc3QgZGlzcGxheVZhbHVlID0gaXNQb3NpdGl2ZSA/IGArJHtldmFsVmFsdWUudG9GaXhlZCgxKX1gIDogZXZhbFZhbHVlLnRvRml4ZWQoMSk7XG4gICAgXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT17aXNQb3NpdGl2ZSA/ICd0ZXh0LWdyZWVuLTYwMCcgOiAndGV4dC1yZWQtNjAwJ30+XG4gICAgICAgIHtkaXNwbGF5VmFsdWV9XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBnZXRUb3BNb3Zlc0Rpc3BsYXkgPSAoKSA9PiB7XG4gICAgaWYgKCF0b3BNb3Zlcy5sZW5ndGgpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIG1iLTJcIj5Ub3AgTW92ZXM6PC9oMz5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgIHt0b3BNb3Zlcy5tYXAoKG1vdmUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgZXZhbFZhbHVlID0gbW92ZS5ldmFsdWF0aW9uO1xuICAgICAgICAgICAgLy8gRmxpcCBldmFsdWF0aW9uIGZvciBibGFjaydzIHR1cm5cbiAgICAgICAgICAgIGlmIChkZWJ1Z0luZm8/LmN1cnJlbnRUdXJuID09PSAnYicpIHsgIC8vIFVzZSB0aGUgY3VycmVudCB0dXJuIGZyb20gZGVidWcgaW5mb1xuICAgICAgICAgICAgICBldmFsVmFsdWUgPSAtZXZhbFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGlzcGxheVZhbHVlID0gZXZhbFZhbHVlID49IDAgPyBgKyR7ZXZhbFZhbHVlLnRvRml4ZWQoMSl9YCA6IGV2YWxWYWx1ZS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTUwMFwiPlxuICAgICAgICAgICAgICAgIHtpbmRleCArIDF9LiB7bW92ZS5tb3ZlfSAoe2Rpc3BsYXlWYWx1ZX0pXG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS04XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgbWItOFwiPkdhbWUgQW5hbHlzaXM8L2gxPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTQgbWItNFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItMlwiPlxuICAgICAgICAgICAge3doaXRlfSB2cyB7YmxhY2t9XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgTW92ZSB7Y3VycmVudE1vdmUgKyAxfSBvZiB7bW92ZXMubGVuZ3RofVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLThcIj5cbiAgICAgICAgICB7LyogQ2hlc3MgQm9hcmQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNwZWN0LXNxdWFyZSBtYi00XCI+XG4gICAgICAgICAgICAgIDxDaGVzc2JvYXJkXG4gICAgICAgICAgICAgICAgcG9zaXRpb249e2dhbWUuZmVuKCl9XG4gICAgICAgICAgICAgICAgYm9hcmRPcmllbnRhdGlvbj1cIndoaXRlXCJcbiAgICAgICAgICAgICAgICBjdXN0b21Cb2FyZFN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAycHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEV2YWx1YXRpb24gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAgICB7Z2V0RXZhbHVhdGlvbkRpc3BsYXkoKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtnZXRUb3BNb3Zlc0Rpc3BsYXkoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTmF2aWdhdGlvbiBDb250cm9scyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMiBtYi00XCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtnb1RvU3RhcnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktNTAwIHRleHQtd2hpdGUgcm91bmRlZCBob3ZlcjpiZy1ncmF5LTYwMCBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudE1vdmUgPT09IDB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDij67vuI9cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtnb1RvUHJldmlvdXNNb3ZlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRNb3ZlID09PSAwfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4qyF77iPXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17Z29Ub05leHRNb3ZlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRNb3ZlID09PSBtb3Zlcy5sZW5ndGggLSAxfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4p6h77iPXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17Z29Ub0VuZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS01MDAgdGV4dC13aGl0ZSByb3VuZGVkIGhvdmVyOmJnLWdyYXktNjAwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50TW92ZSA9PT0gbW92ZXMubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKPre+4j1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIE1vdmUgTGlzdCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93IHAtNFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi00XCI+TW92ZSBMaXN0PC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICB7Zm9ybWF0dGVkTW92ZXMubWFwKChtb3ZlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVOdW1iZXIgPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgW3doaXRlTW92ZSwgYmxhY2tNb3ZlXSA9IG1vdmUuc3BsaXQoJyAnKS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRXaGl0ZU1vdmUgPSBjdXJyZW50TW92ZSA9PT0gaW5kZXggKiAyIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRCbGFja01vdmUgPSBjdXJyZW50TW92ZSA9PT0gaW5kZXggKiAyO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBiZWZvcmUgZWFjaCBtb3ZlXG4gICAgICAgICAgICAgICAgY29uc3Qgd2hpdGVNb3ZlR2FtZSA9IG5ldyBDaGVzcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJsYWNrTW92ZUdhbWUgPSBuZXcgQ2hlc3MoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBtb3ZlcyB1cCB0byBidXQgbm90IGluY2x1ZGluZyB0aGUgY3VycmVudCBtb3ZlXG4gICAgICAgICAgICAgICAgbW92ZXMuc2xpY2UoMCwgaW5kZXggKiAyKS5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbW92ZVN0ciA9IG0uc3BsaXQoJzogJylbMV07XG4gICAgICAgICAgICAgICAgICB3aGl0ZU1vdmVHYW1lLm1vdmUobW92ZVN0cik7XG4gICAgICAgICAgICAgICAgICBibGFja01vdmVHYW1lLm1vdmUobW92ZVN0cik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gRm9yIGJsYWNrJ3MgbW92ZSwgYWxzbyBhcHBseSB3aGl0ZSdzIG1vdmVcbiAgICAgICAgICAgICAgICBpZiAoYmxhY2tNb3ZlKSB7XG4gICAgICAgICAgICAgICAgICBibGFja01vdmVHYW1lLm1vdmUod2hpdGVNb3ZlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZXQgc3VnZ2VzdGVkIG1vdmVzIGZvciBlYWNoIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgY29uc3Qgd2hpdGVTdWdnZXN0ZWRNb3ZlcyA9IHBvc2l0aW9uVG9wTW92ZXNbd2hpdGVNb3ZlR2FtZS5mZW4oKV0gfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgYmxhY2tTdWdnZXN0ZWRNb3ZlcyA9IHBvc2l0aW9uVG9wTW92ZXNbYmxhY2tNb3ZlR2FtZS5mZW4oKV0gfHwgW107XG5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IGNoZWNrIGlmIG1vdmVzIHdlcmUgYW1vbmcgc3VnZ2VzdGlvbnMgaWYgd2UgaGF2ZSBzdWdnZXN0aW9ucyBmb3IgdGhhdCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIEFORCB0aGUgbW92ZSBpcyBub3QgYWZ0ZXIgdGhlIGN1cnJlbnQgbW92ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc1doaXRlU3VnZ2VzdGlvbnMgPSB3aGl0ZVN1Z2dlc3RlZE1vdmVzLmxlbmd0aCA+IDAgJiYgKGluZGV4ICogMiAtIDEpIDw9IGN1cnJlbnRNb3ZlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0JsYWNrU3VnZ2VzdGlvbnMgPSBibGFja1N1Z2dlc3RlZE1vdmVzLmxlbmd0aCA+IDAgJiYgKGluZGV4ICogMikgPD0gY3VycmVudE1vdmU7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNXaGl0ZU1vdmVUb3BNb3ZlID0gaGFzV2hpdGVTdWdnZXN0aW9ucyAmJiB3aGl0ZVN1Z2dlc3RlZE1vdmVzLnNvbWUodG0gPT4gdG0ubW92ZSA9PT0gd2hpdGVNb3ZlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0JsYWNrTW92ZVRvcE1vdmUgPSBoYXNCbGFja1N1Z2dlc3Rpb25zICYmIGJsYWNrU3VnZ2VzdGVkTW92ZXMuc29tZSh0bSA9PiB0bS5tb3ZlID09PSBibGFja01vdmUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPnttb3ZlTnVtYmVyfS48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnb1RvTW92ZShpbmRleCAqIDIpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTEuNSBweS0wLjUgcm91bmRlZCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzV2hpdGVTdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzV2hpdGVNb3ZlVG9wTW92ZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdob3ZlcjpiZy1ncmF5LTEwMCdcbiAgICAgICAgICAgICAgICAgICAgICB9ICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRXaGl0ZU1vdmUgPyAnZm9udC1ib2xkJyA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7d2hpdGVNb3ZlfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAge2JsYWNrTW92ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ29Ub01vdmUoaW5kZXggKiAyICsgMSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC0xLjUgcHktMC41IHJvdW5kZWQgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQmxhY2tTdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXNCbGFja01vdmVUb3BNb3ZlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tNzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXJlZC0xMDAgdGV4dC1yZWQtNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0N1cnJlbnRCbGFja01vdmUgPyAnZm9udC1ib2xkJyA6ICcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YmxhY2tNb3ZlfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwiQ2hlc3MiLCJDaGVzc2JvYXJkIiwidXNlU2VhcmNoUGFyYW1zIiwiQW5hbHlzaXNQYWdlIiwic2VhcmNoUGFyYW1zIiwicGduIiwiZ2V0Iiwid2hpdGUiLCJibGFjayIsImdhbWUiLCJzZXRHYW1lIiwiZ2FtZVJlZiIsImN1cnJlbnRNb3ZlIiwic2V0Q3VycmVudE1vdmUiLCJtb3ZlcyIsInNldE1vdmVzIiwiZm9ybWF0dGVkTW92ZXMiLCJzZXRGb3JtYXR0ZWRNb3ZlcyIsImV2YWx1YXRpb24iLCJzZXRFdmFsdWF0aW9uIiwidG9wTW92ZXMiLCJzZXRUb3BNb3ZlcyIsInBvc2l0aW9uVG9wTW92ZXMiLCJzZXRQb3NpdGlvblRvcE1vdmVzIiwiaXNBbmFseXppbmciLCJzZXRJc0FuYWx5emluZyIsImVuZ2luZURlcHRoIiwic2V0RW5naW5lRGVwdGgiLCJlbmdpbmVMaW5lcyIsInNldEVuZ2luZUxpbmVzIiwiYmVzdE1vdmUiLCJzZXRCZXN0TW92ZSIsImlzRmxpcHBlZCIsInNldElzRmxpcHBlZCIsIndoaXRlTmFtZSIsInNldFdoaXRlTmFtZSIsImJsYWNrTmFtZSIsInNldEJsYWNrTmFtZSIsIm9yaWVudGF0aW9uIiwic2V0T3JpZW50YXRpb24iLCJzdG9ja2Zpc2hFdmFsIiwic2V0U3RvY2tmaXNoRXZhbCIsImlzRXZhbHVhdGluZyIsInNldElzRXZhbHVhdGluZyIsImVuZ2luZSIsInNldEVuZ2luZSIsImlzRW5naW5lUmVhZHkiLCJzZXRJc0VuZ2luZVJlYWR5IiwiZXJyb3IiLCJzZXRFcnJvciIsImRlYnVnSW5mbyIsInNldERlYnVnSW5mbyIsImN1cnJlbnRGZW4iLCJmZW4iLCJoaXN0b3J5IiwibGVuZ3RoIiwiYW5hbHl6ZVBvc2l0aW9uIiwiY29uc29sZSIsImxvZyIsInN0b2NrZmlzaCIsIldvcmtlciIsIm9ubWVzc2FnZSIsImV2ZW50Iiwib3V0cHV0IiwiZGF0YSIsImluY2x1ZGVzIiwicG9zdE1lc3NhZ2UiLCJtYXRjaCIsInJhbmsiLCJ0eXBlIiwidmFsdWUiLCJ1Y2lNb3ZlIiwiZXZhbFZhbHVlIiwicGFyc2VJbnQiLCJmcm9tIiwic2xpY2UiLCJ0byIsInByb21vdGlvbiIsInVuZGVmaW5lZCIsInRlbXBHYW1lIiwibG9hZCIsInB2TWF0Y2giLCJwdk1vdmVzIiwidHJpbSIsInNwbGl0IiwiY3VycmVudFR1cm4iLCJ0dXJuIiwiZ2FtZUZlbiIsInRlbXBHYW1lRmVuIiwibW92ZUhpc3RvcnkiLCJ2ZXJib3NlIiwibWFwIiwibSIsInNhbiIsImxhc3RNb3ZlIiwiaSIsIm1vdmVUb1RyeSIsInRyeUZyb20iLCJ0cnlUbyIsInRyeVByb21vdGlvbiIsIm1vdmUiLCJyZXN1bHQiLCJtb3ZlT2JqZWN0IiwibW92ZUluZGV4IiwiaW5kZXhPZiIsImlzQ2hlY2siLCJzdWNjZXNzIiwibmV3RmVuIiwibmV3VHVybiIsIm5vdGF0aW9uIiwicHYiLCJwcmV2IiwibmV3TW92ZXMiLCJpbmRleCIsInRvRml4ZWQiLCJwaWVjZSIsImNvbG9yIiwiRXJyb3IiLCJtZXNzYWdlIiwiU3RyaW5nIiwib25lcnJvciIsInRlcm1pbmF0ZSIsImVyciIsInVjaU1vdmVzIiwiam9pbiIsIm5ld0dhbWUiLCJsb2FkUGduIiwibW92ZUxpc3QiLCJmb3JtYXR0ZWQiLCJtb3ZlTnVtYmVyIiwiTWF0aCIsImZsb29yIiwid2hpdGVNb3ZlIiwiYmxhY2tNb3ZlIiwicHVzaCIsImdvVG9TdGFydCIsImdvVG9FbmQiLCJnb1RvTmV4dE1vdmUiLCJnb1RvUHJldmlvdXNNb3ZlIiwiZ29Ub01vdmUiLCJnZXRFdmFsdWF0aW9uRGlzcGxheSIsInNwYW4iLCJjbGFzc05hbWUiLCJwYXJzZUZsb2F0IiwiaXNQb3NpdGl2ZSIsImRpc3BsYXlWYWx1ZSIsImdldFRvcE1vdmVzRGlzcGxheSIsImRpdiIsImgzIiwidWwiLCJsaSIsImgxIiwiaDIiLCJwb3NpdGlvbiIsImJvYXJkT3JpZW50YXRpb24iLCJjdXN0b21Cb2FyZFN0eWxlIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93IiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiaXNDdXJyZW50V2hpdGVNb3ZlIiwiaXNDdXJyZW50QmxhY2tNb3ZlIiwid2hpdGVNb3ZlR2FtZSIsImJsYWNrTW92ZUdhbWUiLCJmb3JFYWNoIiwibW92ZVN0ciIsIndoaXRlU3VnZ2VzdGVkTW92ZXMiLCJibGFja1N1Z2dlc3RlZE1vdmVzIiwiaGFzV2hpdGVTdWdnZXN0aW9ucyIsImhhc0JsYWNrU3VnZ2VzdGlvbnMiLCJpc1doaXRlTW92ZVRvcE1vdmUiLCJzb21lIiwidG0iLCJpc0JsYWNrTW92ZVRvcE1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/analysis/page.tsx\n"));

/***/ })

});